{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\n\n// Custom hook for animated number transitions\nexport default function useCountUp(target, {\n  duration = 1000,\n  start = 0\n} = {}) {\n  _s();\n  const [value, setValue] = useState(start);\n  const raf = useRef();\n  const startTimestamp = useRef();\n  const prevTarget = useRef(target);\n  useEffect(() => {\n    if (prevTarget.current !== target) {\n      setValue(start);\n      prevTarget.current = target;\n    }\n    let cancelled = false;\n    function animate(ts) {\n      if (!startTimestamp.current) startTimestamp.current = ts;\n      const progress = Math.min((ts - startTimestamp.current) / duration, 1);\n      const nextValue = start + (target - start) * progress;\n      setValue(progress < 1 ? nextValue : target);\n      if (progress < 1 && !cancelled) {\n        raf.current = requestAnimationFrame(animate);\n      } else {\n        startTimestamp.current = null;\n      }\n    }\n    raf.current = requestAnimationFrame(animate);\n    return () => {\n      cancelled = true;\n      cancelAnimationFrame(raf.current);\n      startTimestamp.current = null;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [target, duration, start]);\n  return Math.round(value);\n}\n_s(useCountUp, \"hjSrPqQ9bUlsacBaU0oZUMot3oc=\");","map":{"version":3,"names":["useEffect","useRef","useState","useCountUp","target","duration","start","_s","value","setValue","raf","startTimestamp","prevTarget","current","cancelled","animate","ts","progress","Math","min","nextValue","requestAnimationFrame","cancelAnimationFrame","round"],"sources":["S:/resume shit/spotify-wrapped-but-better-main/frontend/src/useCountUp.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react';\r\n\r\n// Custom hook for animated number transitions\r\nexport default function useCountUp(target, { duration = 1000, start = 0 } = {}) {\r\n    const [value, setValue] = useState(start);\r\n    const raf = useRef();\r\n    const startTimestamp = useRef();\r\n    const prevTarget = useRef(target);\r\n\r\n    useEffect(() => {\r\n        if (prevTarget.current !== target) {\r\n            setValue(start);\r\n            prevTarget.current = target;\r\n        }\r\n        let cancelled = false;\r\n        function animate(ts) {\r\n            if (!startTimestamp.current) startTimestamp.current = ts;\r\n            const progress = Math.min((ts - startTimestamp.current) / duration, 1);\r\n            const nextValue = start + (target - start) * progress;\r\n            setValue(progress < 1 ? nextValue : target);\r\n            if (progress < 1 && !cancelled) {\r\n                raf.current = requestAnimationFrame(animate);\r\n            } else {\r\n                startTimestamp.current = null;\r\n            }\r\n        }\r\n        raf.current = requestAnimationFrame(animate);\r\n        return () => {\r\n            cancelled = true;\r\n            cancelAnimationFrame(raf.current);\r\n            startTimestamp.current = null;\r\n        };\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [target, duration, start]);\r\n\r\n    return Math.round(value);\r\n} "],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;;AAEnD;AACA,eAAe,SAASC,UAAUA,CAACC,MAAM,EAAE;EAAEC,QAAQ,GAAG,IAAI;EAAEC,KAAK,GAAG;AAAE,CAAC,GAAG,CAAC,CAAC,EAAE;EAAAC,EAAA;EAC5E,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGP,QAAQ,CAACI,KAAK,CAAC;EACzC,MAAMI,GAAG,GAAGT,MAAM,CAAC,CAAC;EACpB,MAAMU,cAAc,GAAGV,MAAM,CAAC,CAAC;EAC/B,MAAMW,UAAU,GAAGX,MAAM,CAACG,MAAM,CAAC;EAEjCJ,SAAS,CAAC,MAAM;IACZ,IAAIY,UAAU,CAACC,OAAO,KAAKT,MAAM,EAAE;MAC/BK,QAAQ,CAACH,KAAK,CAAC;MACfM,UAAU,CAACC,OAAO,GAAGT,MAAM;IAC/B;IACA,IAAIU,SAAS,GAAG,KAAK;IACrB,SAASC,OAAOA,CAACC,EAAE,EAAE;MACjB,IAAI,CAACL,cAAc,CAACE,OAAO,EAAEF,cAAc,CAACE,OAAO,GAAGG,EAAE;MACxD,MAAMC,QAAQ,GAAGC,IAAI,CAACC,GAAG,CAAC,CAACH,EAAE,GAAGL,cAAc,CAACE,OAAO,IAAIR,QAAQ,EAAE,CAAC,CAAC;MACtE,MAAMe,SAAS,GAAGd,KAAK,GAAG,CAACF,MAAM,GAAGE,KAAK,IAAIW,QAAQ;MACrDR,QAAQ,CAACQ,QAAQ,GAAG,CAAC,GAAGG,SAAS,GAAGhB,MAAM,CAAC;MAC3C,IAAIa,QAAQ,GAAG,CAAC,IAAI,CAACH,SAAS,EAAE;QAC5BJ,GAAG,CAACG,OAAO,GAAGQ,qBAAqB,CAACN,OAAO,CAAC;MAChD,CAAC,MAAM;QACHJ,cAAc,CAACE,OAAO,GAAG,IAAI;MACjC;IACJ;IACAH,GAAG,CAACG,OAAO,GAAGQ,qBAAqB,CAACN,OAAO,CAAC;IAC5C,OAAO,MAAM;MACTD,SAAS,GAAG,IAAI;MAChBQ,oBAAoB,CAACZ,GAAG,CAACG,OAAO,CAAC;MACjCF,cAAc,CAACE,OAAO,GAAG,IAAI;IACjC,CAAC;IACD;EACJ,CAAC,EAAE,CAACT,MAAM,EAAEC,QAAQ,EAAEC,KAAK,CAAC,CAAC;EAE7B,OAAOY,IAAI,CAACK,KAAK,CAACf,KAAK,CAAC;AAC5B;AAACD,EAAA,CAjCuBJ,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}